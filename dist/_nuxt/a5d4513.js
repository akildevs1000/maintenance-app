(window.webpackJsonp=window.webpackJsonp||[]).push([[36,20,30,31,34],{636:function(t,e,r){var n=r(637).has;t.exports=function(t){return n(t),t}},637:function(t,e,r){var n=r(21),o=Set.prototype;t.exports={Set:Set,add:n(o.add),has:n(o.has),remove:n(o.delete),proto:o}},638:function(t,e,r){var n=r(21),o=r(397),c=r(637),l=c.Set,d=c.proto,m=n(d.forEach),f=n(d.keys),h=f(new l).next;t.exports=function(t,e,r){return r?o(f(t),e,h):m(t,e)}},639:function(t,e,r){var n=r(71),o=r(29),c=r(652),l=r(45),d=n("Set");t.exports=function(t){return function(t){return l(t)&&"number"==typeof t.size&&o(t.has)&&o(t.keys)}(t)?t:c(t)?new d(t):t}},640:function(t,e,r){var n=r(79),o=r(35),c=r(36),l=r(105),d=TypeError,m=Math.max,f=function(t,e,r,n){this.set=t,this.size=e,this.has=r,this.keys=n};f.prototype={getIterator:function(){return o(c(this.keys,this.set))},includes:function(t){return c(this.has,this.set,t)}},t.exports=function(t){o(t);var e=+t.size;if(e!=e)throw d("Invalid size");return new f(t,m(l(e),0),n(t.has),n(t.keys))}},641:function(t,e,r){var n=r(398),o=r(637);t.exports=n(o.proto,"size","get")||function(t){return t.size}},642:function(t,e,r){var n=r(637),o=r(638),c=n.Set,l=n.add;t.exports=function(t){var e=new c;return o(t,(function(t){l(e,t)})),e}},647:function(t,e,r){r(648)},648:function(t,e,r){"use strict";r(292)("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(399))},649:function(t,e,r){"use strict";var n=r(6),o=r(636),c=r(637).add;n({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var t=o(this),e=0,r=arguments.length;e<r;e++)c(t,arguments[e]);return t}})},650:function(t,e,r){"use strict";var n=r(6),o=r(636),c=r(637).remove;n({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=o(this),r=!0,n=0,l=arguments.length;n<l;n++)t=c(e,arguments[n]),r=r&&t;return!!r}})},651:function(t,e,r){"use strict";var n=r(6),o=r(36),c=r(639),l=r(653);n({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(t){return o(l,this,c(t))}})},652:function(t,e,r){var n=r(159),o=r(43),c=r(86),l=r(33),d=r(160),m=l("iterator"),f=Object;t.exports=function(t){if(c(t))return!1;var e=f(t);return void 0!==e[m]||"@@iterator"in e||o(d,n(e))}},653:function(t,e,r){"use strict";var n=r(636),o=r(637),c=r(642),l=r(641),d=r(640),m=r(638),f=r(397),h=o.has,v=o.remove;t.exports=function(t){var e=n(this),r=d(t),o=c(e);return l(e)<=r.size?m(e,(function(t){r.includes(t)&&v(o,t)})):f(r.getIterator(),(function(t){h(e,t)&&v(o,t)})),o}},654:function(t,e,r){"use strict";var n=r(6),o=r(60),c=r(636),l=r(638);n({target:"Set",proto:!0,real:!0,forced:!0},{every:function(t){var e=c(this),r=o(t,arguments.length>1?arguments[1]:void 0);return!1!==l(e,(function(t){if(!r(t,t,e))return!1}),!0)}})},655:function(t,e,r){"use strict";var n=r(6),o=r(60),c=r(636),l=r(637),d=r(638),m=l.Set,f=l.add;n({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(t){var e=c(this),r=o(t,arguments.length>1?arguments[1]:void 0),n=new m;return d(e,(function(t){r(t,t,e)&&f(n,t)})),n}})},656:function(t,e,r){"use strict";var n=r(6),o=r(60),c=r(636),l=r(638);n({target:"Set",proto:!0,real:!0,forced:!0},{find:function(t){var e=c(this),r=o(t,arguments.length>1?arguments[1]:void 0),n=l(e,(function(t){if(r(t,t,e))return{value:t}}),!0);return n&&n.value}})},657:function(t,e,r){"use strict";var n=r(6),o=r(36),c=r(639),l=r(658);n({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(t){return o(l,this,c(t))}})},658:function(t,e,r){"use strict";var n=r(636),o=r(637),c=r(641),l=r(640),d=r(638),m=r(397),f=o.Set,h=o.add,v=o.has;t.exports=function(t){var e=n(this),r=l(t),o=new f;return c(e)>r.size?m(r.getIterator(),(function(t){v(e,t)&&h(o,t)})):d(e,(function(t){r.includes(t)&&h(o,t)})),o}},659:function(t,e,r){"use strict";var n=r(6),o=r(36),c=r(639),l=r(660);n({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(t){return o(l,this,c(t))}})},660:function(t,e,r){"use strict";var n=r(636),o=r(637).has,c=r(641),l=r(640),d=r(638),m=r(397),f=r(290);t.exports=function(t){var e=n(this),r=l(t);if(c(e)<=r.size)return!1!==d(e,(function(t){if(r.includes(t))return!1}),!0);var h=r.getIterator();return!1!==m(h,(function(t){if(o(e,t))return f(h,"normal",!1)}))}},661:function(t,e,r){"use strict";var n=r(6),o=r(36),c=r(639),l=r(662);n({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(t){return o(l,this,c(t))}})},662:function(t,e,r){"use strict";var n=r(636),o=r(641),c=r(638),l=r(640);t.exports=function(t){var e=n(this),r=l(t);return!(o(e)>r.size)&&!1!==c(e,(function(t){if(!r.includes(t))return!1}),!0)}},663:function(t,e,r){"use strict";var n=r(6),o=r(36),c=r(639),l=r(664);n({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(t){return o(l,this,c(t))}})},664:function(t,e,r){"use strict";var n=r(636),o=r(637).has,c=r(641),l=r(640),d=r(397),m=r(290);t.exports=function(t){var e=n(this),r=l(t);if(c(e)<r.size)return!1;var f=r.getIterator();return!1!==d(f,(function(t){if(!o(e,t))return m(f,"normal",!1)}))}},665:function(t,e,r){"use strict";var n=r(6),o=r(21),c=r(636),l=r(638),d=r(44),m=o([].join),f=o([].push);n({target:"Set",proto:!0,real:!0,forced:!0},{join:function(t){var e=c(this),r=void 0===t?",":d(t),n=[];return l(e,(function(t){f(n,t)})),m(n,r)}})},666:function(t,e,r){"use strict";var n=r(6),o=r(60),c=r(636),l=r(637),d=r(638),m=l.Set,f=l.add;n({target:"Set",proto:!0,real:!0,forced:!0},{map:function(t){var e=c(this),r=o(t,arguments.length>1?arguments[1]:void 0),n=new m;return d(e,(function(t){f(n,r(t,t,e))})),n}})},667:function(t,e,r){"use strict";var n=r(6),o=r(79),c=r(636),l=r(638),d=TypeError;n({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=c(this),r=arguments.length<2,n=r?void 0:arguments[1];if(o(t),l(e,(function(o){r?(r=!1,n=o):n=t(n,o,o,e)})),r)throw d("Reduce of empty set with no initial value");return n}})},668:function(t,e,r){"use strict";var n=r(6),o=r(60),c=r(636),l=r(638);n({target:"Set",proto:!0,real:!0,forced:!0},{some:function(t){var e=c(this),r=o(t,arguments.length>1?arguments[1]:void 0);return!0===l(e,(function(t){if(r(t,t,e))return!0}),!0)}})},669:function(t,e,r){"use strict";var n=r(6),o=r(36),c=r(639),l=r(670);n({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(t){return o(l,this,c(t))}})},670:function(t,e,r){"use strict";var n=r(636),o=r(637),c=r(642),l=r(640),d=r(397),m=o.add,f=o.has,h=o.remove;t.exports=function(t){var e=n(this),r=l(t).getIterator(),o=c(e);return d(r,(function(t){f(e,t)?h(o,t):m(o,t)})),o}},671:function(t,e,r){"use strict";var n=r(6),o=r(36),c=r(639),l=r(672);n({target:"Set",proto:!0,real:!0,forced:!0},{union:function(t){return o(l,this,c(t))}})},672:function(t,e,r){"use strict";var n=r(636),o=r(637).add,c=r(642),l=r(640),d=r(397);t.exports=function(t){var e=n(this),r=l(t).getIterator(),m=c(e);return d(r,(function(t){o(m,t)})),m}},675:function(t,e,r){"use strict";r.r(e);r(25),r(291);var n={props:{engaged:{type:Number,required:!0},total:{type:Number,required:!0}},computed:{engagedPercentage:function(){return this.total?(this.engaged/this.total*100).toFixed(2):100},remainingPercentage:function(){return this.total?((this.total-this.engaged)/this.total*100).toFixed(2):0}}},o=r(91),component=Object(o.a)(n,(function(){var t=this,e=t._self._c;return e("span",[e("style",[t._v("\n    .progress-container {\n      width: 100%;\n      background-color: #d8d8d8;\n      display: flex;\n      justify-content: center;\n      text-align: center;\n      overflow: hidden; /* To handle overflow when adding more style */\n    }\n\n    .progress-green {\n      background-color: #8bc34a;\n      color: white;\n      transition: width 0.5s ease-in-out; /* Add smooth transition */\n    }\n\n    .progress-gray {\n      background-color: #d3d3d3;\n      color: black;\n      transition: width 0.5s ease-in-out; /* Add smooth transition */\n    }\n  ")]),t._v(" "),e("div",{staticClass:"progress-container",attrs:{"aria-label":"Progress bar showing engaged vs remaining"}},[e("div",{staticClass:"progress-green",style:{width:"".concat(t.engagedPercentage,"%")}},[t._v("\n      "+t._s(t.engaged)+"\n    ")]),t._v(" "),e("div",{staticClass:"progress-gray",style:{width:"".concat(t.remainingPercentage,"%")}},[t._v("\n      "+t._s(t.total-t.engaged)+"\n    ")])])])}),[],!1,null,null,null);e.default=component.exports},676:function(t,e,r){"use strict";r.r(e);var n=r(119),o=r(395),c=r(394),l=(r(46),r(32),{props:["items","bgColor","color"],methods:{getRelatedStyle:function(t){return t.is_cleaned?"background-color:#2ce860;color:white;":"background-color:".concat(this.bgColor,";color:").concat(this.color,";")}}}),d=r(91),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("span",{staticClass:"px-5"},[t.items&&t.items.length>0?e(c.a,{attrs:{"no-gutters":""}},t._l(t.items,(function(r,c){return e(o.a,{key:c,attrs:{cols:"2"}},[e("div",{staticClass:"ma-1 text-center",staticStyle:{"border-radius":"12px"}},[e(n.a,{staticClass:"pa-2 mx-auto",style:t.getRelatedStyle(r),attrs:{rounded:"",elevation:"0",dark:""},on:{click:function(e){return t.$emit("selectedRoom",r)}}},[e("span",[t._v(t._s(r.room_no.length<5?r.room_no:r.room_no.slice(0,5)+"..."))])])],1)])})),1):t._e()],1)}),[],!1,null,null,null);e.default=component.exports},689:function(t,e,r){"use strict";r.r(e);var n=r(131),o=(r(32),r(34),r(291),{props:{label:{default:"Upload your attachment",type:String},name:{default:"Photo",type:String},color:{default:"purple",type:String},validationMessage:{default:"Item not found",type:String},rule:{default:!0}},data:function(){return{isFileSelect:!1,preview:null,currentComponent:null,viewFileSrc:"",newDialogKey:1,imageSize:null}},methods:{clearImage:function(){this.preview=null,this.isFileSelect=!1,this.$refs.fileInput.value=""},triggerFileInput:function(){this.rule?this.$refs.fileInput.click():alert(this.validationMessage)},handleFileInputChange:function(t){var e=this,r=t.target.files[0];if(console.log(r),r){this.isFileSelect=!0;var n=new FileReader;n.readAsDataURL(r),n.onload=function(t){var img=new Image;img.src=t.target.result,img.onload=function(){var canvas=document.createElement("canvas"),t=canvas.getContext("2d");canvas.width=img.width,canvas.height=img.height,t.drawImage(img,0,0),canvas.toBlob((function(t){var n=new File([t],r.name,{type:"image/jpeg",lastModified:Date.now()}),o=new FileReader;o.readAsDataURL(n),o.onload=function(t){var r=t.target.result;e.preview=r;var o=(n.size/1024).toFixed(2);e.imageSize="(".concat(o," KB)"),e.$emit("file-preview",r),e.$emit("file-selected",r),++e.newDialogKey,e.currentComponent="WidgetsViewTempFile"}}),"image/jpeg",.3)}}}else this.isFileSelect=!1}}}),c=r(91),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("span",[e("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.handleFileInputChange}}),t._v(" "),t.isFileSelect?e(n.a,{attrs:{color:"red","x-small":""},on:{click:t.clearImage}},[t._v("mdi-close")]):t._e(),t._v(" "),t.isFileSelect?e("span",[e(t.currentComponent,{key:t.newDialogKey,tag:"component",attrs:{label:"".concat(t.name," ").concat(t.imageSize),icon:"mdi-eye-outline",src:t.preview}})],1):e(n.a,{attrs:{small:"",color:t.color},on:{click:t.triggerFileInput}},[t._v("mdi-camera-outline")])],1)}),[],!1,null,null,null);e.default=component.exports},690:function(t,e,r){"use strict";r.r(e);var n=r(131),o=r(40),c=(r(120),r(5),r(39),r(47),r(686),r(400),{layout:"login",data:function(){return{isRecording:!1,mediaRecorder:null,audioChunks:[],recordedBlob:null,audioUrl:null}},methods:{blobToBase64:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var n=new FileReader;n.onloadend=function(){return e(n.result)},n.onerror=r,n.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})))()},startRecording:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.recordedBlob=null,e.prev=1,e.next=4,navigator.mediaDevices.getUserMedia({audio:!0});case 4:r=e.sent,t.mediaRecorder=new MediaRecorder(r),t.mediaRecorder.start(),t.isRecording=!0,t.audioChunks=[],t.mediaRecorder.addEventListener("dataavailable",(function(e){t.audioChunks.push(e.data)})),t.mediaRecorder.addEventListener("stop",Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.recordedBlob=new Blob(t.audioChunks,{type:"audio/mpeg"}),t.audioUrl=URL.createObjectURL(t.recordedBlob),e.t0=t,e.next=5,t.blobToBase64(t.recordedBlob);case 5:e.t1=e.sent,e.t0.$emit.call(e.t0,"voice-note",e.t1);case 7:case"end":return e.stop()}}),e)})))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error("Error accessing the microphone",e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))()},stopRecording:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.mediaRecorder&&(t.mediaRecorder.stop(),t.isRecording=!1);case 1:case"end":return e.stop()}}),e)})))()},playRecording:function(){var t=this.$refs.audioPlayer;t&&this.audioUrl&&t.play()}}}),l=r(91),component=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("span",[e("style",[t._v("\n    @keyframes pulse {\n      0% {\n        /* transform: scale(1); */\n        box-shadow: 0 0 0 0 rgba(33, 150, 243, 0.7);\n      }\n      70% {\n        /* transform: scale(1.2); */\n        box-shadow: 0 0 0 7px rgba(33, 150, 243, 0);\n      }\n      100% {\n        /* transform: scale(1); */\n        box-shadow: 0 0 0 0 rgba(33, 150, 243, 0);\n      }\n    }\n\n    .recording-active {\n      border-radius: 50px;\n      animation: pulse 1s infinite;\n    }\n\n     {\n    }\n  ")]),t._v(" "),t.isRecording?t._e():e(n.a,{attrs:{small:"",color:"primary"},on:{click:t.startRecording}},[t._v("mdi-microphone-outline")]),t._v(" "),t.isRecording?e(n.a,{class:"".concat(t.isRecording?"recording-active":""),attrs:{small:"",color:"primary"},on:{click:t.stopRecording}},[t._v("mdi-microphone-outline")]):t._e(),t._v(" "),t.recordedBlob?e(n.a,{attrs:{small:"",color:"success"},on:{click:t.playRecording}},[t._v("mdi-play-circle-outline")]):t._e(),t._v(" "),e("audio",{ref:"audioPlayer",staticStyle:{display:"none"},attrs:{src:t.audioUrl,controls:""}})],1)}),[],!1,null,null,null);e.default=component.exports},730:function(t,e,r){"use strict";r.r(e);var n=r(268),o=r(119),c=r(395),l=r(131),d=r(285),m=r(394),f=(r(32),r(14),r(12),r(18),r(11),r(19),r(75)),h=r(40),v=r(3);r(120),r(46),r(401),r(293),r(5),r(72),r(70),r(647),r(39),r(649),r(650),r(651),r(654),r(655),r(656),r(657),r(659),r(661),r(663),r(665),r(666),r(667),r(668),r(669),r(671),r(47),r(13),r(42),r(55),r(34);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function S(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(v.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var y={data:function(){return{isStart:!0,isStop:!1,selectedRoom:null,isInitialState:!0,FormData:{start_time:"00:00:00",end_time:"00:00:00",status:"Dirty"},tabId:0,cards:[],filterDate:(new Date).toJSON().slice(0,10),loading:!0,rooms:[],progress:null,attachments:[]}},watch:{fieldName:function(){}},created:function(){this.room_list()},methods:{handleSelectedRoom:function(t){this.selectedRoom=t},handleFileSelection:function(t,e){this.FormData=S(S(S({},this.FormData),{},{start_time:this.isInitialState?this.formatTime(new Date):this.FormData.start_time},this.selectedRoom),{},{before_attachment:t,before_attachment_name:e}),this.isInitialState=!1},handleVoiceNote:function(t,e){this.FormData=S(S({},this.FormData),{},{voice_note:t,voice_note_name:e})},formatTime:function(t){var e=String(t.getHours()).padStart(2,"0"),r=String(t.getMinutes()).padStart(2,"0"),n=String(t.getSeconds()).padStart(2,"0");return"".concat(e,":").concat(r,":").concat(n)},start:function(){this.selectedRoom?(this.FormData=S(S({},this.FormData),{},{start_time:this.isInitialState?this.formatTime(new Date):this.FormData.start_time,end_time:"00:00:00"}),this.isStart=!1,this.isStop=!0,this.isInitialState=!1):alert("Room not Selected")},setStatus:function(t){this.FormData=S(S(S({},this.FormData),{},{start_time:this.isInitialState?this.formatTime(new Date):this.FormData.start_time},this.selectedRoom),{},{status:t})},stop:function(){var t=this;return Object(h.a)(regeneratorRuntime.mark((function e(){var r,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Date,n=r.getHours().toString().padStart(2,"0"),o=r.getMinutes().toString().padStart(2,"0"),c=r.getSeconds().toString().padStart(2,"0"),t.FormData=S(S({},t.FormData),{},{end_time:"".concat(n,":").concat(o,":").concat(c),total_time:t.$utils.calculateTotalTime(t.FormData.start_time,"".concat(n,":").concat(o,":").concat(c)),cleaned_by_user_id:t.$auth.user.id,company_id:t.$auth.user.company_id,room_id:t.selectedRoom.id}),console.log(t.FormData),e.next=8,t.$axios.post("room-cleaning",t.FormData);case 8:t.isStop=!1,t.isStart=!0,t.isInitialState=!0,t.room_list();case 12:case"end":return e.stop()}}),e)})))()},setTabId:function(t){this.isInitialState&&(this.tabId=t,this.FormData={start_time:"00:00:00",end_time:"00:00:00",status:"Dirty"},this.selectedRoom=null,this.isInitialState=!0,this.isStop=!1,this.isStart=!0)},room_list:function(){var t=this;return Object(h.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={params:{company_id:t.$auth.user&&t.$auth.user.company.id,check_in:(new Date).toJSON().slice(0,10),filter_date:t.filterDate}},t.$axios.get("room_list_grid",r).then(function(){var e=Object(h.a)(regeneratorRuntime.mark((function e(r){var data,n,o,c,l,d,m,h,v,_,S,y,R,w,x,k,D,C,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((data=r.data).status){e.next=4;break}return t.alert("Failure!",data.data,"error"),e.abrupt("return",!1);case 4:return t.rooms=data,n=data.bookedRooms,o=n.map((function(t){return t.room_no})),c=data.expectCheckOut.map((function(t){return t.room_no})),l=data.checkIn.map((function(t){return t.room_no})),d=data.blockedRooms.map((function(t){return t.room_no})),m=data.dirtyRoomsList.map((function(t){return t.room_no})),h=[].concat(Object(f.a)(o),Object(f.a)(c),Object(f.a)(l),Object(f.a)(d),Object(f.a)(m)),v=Object(f.a)(new Set(h)),_=data.allRooms,S=_.filter((function(t){return!v.includes(t.room_no)})),t.Occupied=data.checkIn,e.next=18,t.getRoomStatus(data.dirtyRoomsList.map((function(t){return t.id})));case 18:return y=e.sent,e.next=21,t.getRoomStatus(data.checkIn.map((function(t){return t.id})));case 21:return R=e.sent,e.next=24,t.getRoomStatus(S.map((function(t){return t.id})));case 24:return w=e.sent,e.next=27,t.getRoomStatus(data.blockedRooms.map((function(t){return t.id})));case 27:x=e.sent,k=S.map((function(t){return{id:t.id,room_no:t.room_no,room_type:t.room_type.name,is_cleaned:t.is_cleaned.length}})),D=data.dirtyRoomsList.map((function(t){return{id:t.id,room_no:t.room_no,room_type:t.room_type.name,is_cleaned:t.is_cleaned.length,can_change_status:!0}})),C=data.checkIn.map((function(t){return{id:t.id,room_no:t.room_no,room_type:t.room_type.name,is_cleaned:t.is_cleaned.length}})),O=data.blockedRooms.map((function(t){return{id:t.id,room_no:t.room_no,room_type:t.room_type.name,is_cleaned:t.is_cleaned.length}})),t.rooms={DirtyRooms:D,Occupied:C,vacantRooms:k,blockedRooms:O},t.cards=[{color:"white",bgColor:"#d9534f",label:"Dirty",value:D.filter((function(t){return t.is_cleaned})).length,sub_value:t.getSubValue(m.length,y)},{color:"black",bgColor:"#ddbc91",label:"Occupied",value:C.filter((function(t){return t.is_cleaned})).length,sub_value:t.getSubValue(l.length,R)},{color:"black",bgColor:"#f5ece3",label:"Vacant",value:k.filter((function(t){return t.is_cleaned})).length,sub_value:t.getSubValue(S.length,w)},{color:"white",bgColor:"#75a29f",label:"Blocked",value:O.filter((function(t){return t.is_cleaned})).length,sub_value:t.getSubValue(d.length,x)}],t.progress={total:_.length+d.length,engaged:t.$utils.getSum(t.cards.map((function(t){return t.value})))};case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})))()},getSubValue:function(t,e){return t-e<0?"0":(t-e).toString()},getRoomStatus:function(t){var e=this;return Object(h.a)(regeneratorRuntime.mark((function r(){var n,o,data;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={params:{room_ids:t,date:(new Date).toISOString().split("T")[0],company_id:e.$auth.user.company_id}},r.next=3,e.$axios.get("room-cleaning",n);case 3:return o=r.sent,data=o.data,r.abrupt("return",data.data.length);case 6:case"end":return r.stop()}}),r)})))()}}},R=y,w=r(91),component=Object(w.a)(R,(function(){var t,e,r,f,h,v,_=this,S=_._self._c;return S("span",{staticClass:"pt-15"},[S(m.a,[S(c.a,{staticClass:"text-right",attrs:{cols:"12"}},[S(l.a,{attrs:{color:"black"},on:{click:_.room_list}},[_._v("mdi-reload")])],1),_._v(" "),_._l(_.cards,(function(t,e){return S(c.a,{key:e},[S(o.a,{staticClass:"text-center pt-1",style:"background-color:".concat(t.bgColor,"; color:").concat(t.color,"; border-radius: 12px"),attrs:{elevation:"0",height:"70"},on:{click:function(t){return _.setTabId(e)}}},[S("small",{staticClass:"px-1",staticStyle:{"font-size":"9px"}},[_._v(_._s(t.label))]),_._v(" "),S("div",{staticClass:"pa-1 mt-1",staticStyle:{"font-size":"14px"}},[_._v("\n          "+_._s(t.value)+" "),t.sub_value?S("span",[_._v("/")]):_._e(),_._v(" "),t.sub_value?S("small",{staticStyle:{"font-size":"9px"}},[_._v(_._s(t.sub_value))]):_._e()])])],1)}))],2),_._v(" "),S(m.a,{attrs:{"no-gutters":""}},[S(c.a,{staticClass:"pt-5"},[_.progress?S("AssetsProgressCustom",{attrs:{total:_.progress.total,engaged:_.progress.engaged}}):_._e()],1),_._v(" "),S(c.a,{attrs:{cols:"12"}},[0==_.tabId?S("WidgetsVacantRoomCard",{attrs:{bgColor:"#d9534f",color:"white",items:_.rooms.DirtyRooms},on:{selectedRoom:_.handleSelectedRoom}}):_._e(),_._v(" "),1==_.tabId?S("WidgetsVacantRoomCard",{attrs:{bgColor:"#ddbc91",color:"black",items:_.rooms.Occupied},on:{selectedRoom:_.handleSelectedRoom}}):_._e(),_._v(" "),2==_.tabId?S("WidgetsVacantRoomCard",{attrs:{bgColor:"#f5ece3",color:"black",items:_.rooms.vacantRooms},on:{selectedRoom:_.handleSelectedRoom}}):_._e(),_._v(" "),3==_.tabId?S("WidgetsVacantRoomCard",{attrs:{bgColor:"#75a29f",color:"white",items:_.rooms.blockedRooms},on:{selectedRoom:_.handleSelectedRoom}}):_._e()],1),_._v(" "),S(c.a,{attrs:{cols:"8"}},[S(o.a,{staticClass:"pa-3",staticStyle:{"min-height":"100px","border-radius":"10px"},attrs:{outlined:""}},[S(m.a,[S(c.a,{attrs:{cols:"4"}},[S("div",{staticStyle:{display:"flex"}},[S(n.a,{attrs:{size:"20"}},[S(d.a,{attrs:{src:"/cleaner.png"}})],1),_._v(" "),S("div",{staticClass:"ml-2",staticStyle:{display:"inline-block","line-height":"1.1"}},[S("small",[_._v(_._s((null===(t=_.selectedRoom)||void 0===t?void 0:t.room_no)||"---"))]),_._v(" "),S("br"),_._v(" "),S("small",[_._v(_._s((null===(e=_.selectedRoom)||void 0===e?void 0:e.room_type)||"---"))])])],1)]),_._v(" "),S(c.a,{staticClass:"text-right",attrs:{cols:"8"}},[S(l.a,{attrs:{color:"green"},on:{click:function(t){return _.setStatus("Cleaned")}}},[_._v("mdi-emoticon-happy-outline")]),_._v(" "),S(l.a,{attrs:{color:"red"},on:{click:function(t){return _.setStatus("Dirty")}}},[_._v("mdi-emoticon-sad-outline")])],1)],1),_._v(" "),S(m.a,[S(c.a,{attrs:{cols:"2"}},[S("div",{staticStyle:{display:"flex"}},[S(l.a,[_._v("mdi-clock-outline")]),_._v(" "),S("div",{staticClass:"ml-2",staticStyle:{display:"inline-block","line-height":"1.1"}},[S("small",[_._v(_._s(null===(r=_.FormData)||void 0===r?void 0:r.start_time))]),_._v(" "),S("small",[_._v(_._s(null===(f=_.FormData)||void 0===f?void 0:f.end_time))])])],1)]),_._v(" "),S(c.a,{staticClass:"text-right",attrs:{cols:"10"}},[S("span",{staticClass:"primary--text"},[S("WidgetsUploadAttachment",{attrs:{validationMessage:"Room not found",rule:_.selectedRoom,displayPreview:!1,label:"".concat(null===(h=_.selectedRoom)||void 0===h?void 0:h.room_no,"_").concat(Date.now(),".png"),name:"".concat(null===(v=_.selectedRoom)||void 0===v?void 0:v.room_no,"_").concat(Date.now(),".png")},on:{"file-selected":function(t){var e;_.handleFileSelection(t,"".concat(null===(e=_.selectedRoom)||void 0===e?void 0:e.room_no,"_").concat(Date.now(),".png"))}}})],1),_._v(" "),S("WidgetsVoice",{on:{"voice-note":function(t){var e;_.handleVoiceNote(t,"".concat(null===(e=_.selectedRoom)||void 0===e?void 0:e.room_no,"_").concat(Date.now(),".mp3"))}}})],1)],1)],1)],1),_._v(" "),S(c.a,{staticClass:"px-2",attrs:{cols:"4"}},[S("div",{staticClass:"align-center justify-center d-flex grey lighten-3",staticStyle:{"min-height":"100px","border-radius":"10px"}},[S(n.a,{attrs:{size:"70"}},[_.isStart?S(d.a,{staticClass:"mt-2",staticStyle:{height:"100%",width:"100%"},attrs:{src:"/start.png"},on:{click:_.start}}):_._e(),_._v(" "),_.isStop?S(d.a,{attrs:{src:"/stop.png"},on:{click:_.stop}}):_._e()],1)],1)])],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{AssetsProgressCustom:r(675).default,WidgetsVacantRoomCard:r(676).default,WidgetsUploadAttachment:r(689).default,WidgetsVoice:r(690).default})}}]);